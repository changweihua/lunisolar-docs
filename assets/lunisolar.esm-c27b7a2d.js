var Q=function(n,e){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},Q(n,e)};function te(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Q(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function j(n,e,t,r){var a,o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function z(n,e,t){if(t||arguments.length===2)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return n.concat(r||Array.prototype.slice.call(e))}var _={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",q:"quarter",y:"year",lh:"lunarhour",ld:"lunarday",lM:"lunarmonth",ly:"lunaryear",ch:"char8hour",cd:"char8day",cM:"char8month",cy:"char8year"},_e=new Set(["lunarhour","lunarday","lunarmonth","lunaryear"]),oe="Invalid Date",be=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Oe=/\[([^\]]+)]|cZ|t|T|lYn|lMn|lDn|lHn|lY|lM|lL|lD|lH|cYs|cYb|cY|cMs|cMb|cM|cDs|cDb|cD|cHs|cHb|cH|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Me=[[9],[5,9,7],[0,2,4],[1],[4,1,9],[2,6,4],[3,5],[5,3,1],[6,8,4],[7],[4,7,3],[8,0]],ie=[2018,12,7],J=[2022,3,12],pe={name:"zh",leap:"閏",lunarYearUnit:"年",lunarHourUnit:"時",bigMonth:"大",smallMonth:"小",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["週日","週一","週二","週三","週四","週五","週六"],weekdaysMin:["日","一","二","三","四","五","六"],months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),lunarMonths:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),lunarMonthsAlias:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_冬月_腊月".split("_"),lunarDays:"初一_初二_初三_初四_初五_初六_初七_初八_初九_初十_十一_十二_十三_十四_十五_十六_十七_十八_十九_二十_廿一_廿二_廿三_廿四_廿五_廿六_廿七_廿八_廿九_三十".split("_"),numerals:"〇一二三四五六七八九十".split(""),constellationName:"白羊座_金牛座_雙子座_巨蟹座_狮子座_處女座_天秤座_天蝎座_射手座_摩羯座_水瓶座_雙魚座".split("_"),solarTerm:"小寒_大寒_立春_雨水_驚蟄_春分_清明_穀雨_立夏_小滿_芒種_夏至_小暑_大暑_立秋_處暑_白露_秋分_寒露_霜降_立冬_小雪_大雪_冬至".split("_"),seasonName:"春夏秋冬".split(""),stems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],branchs:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],stemBranchSeparator:"",chineseZodiac:["鼠","牛","虎","兔","龍","蛇","馬","羊","猴","雞","狗","豬"],fiveElements:["木","火","土","金","水"],eightTrigram:"坤震坎兌艮離巽乾".split(""),moonPhase:{朔:"朔",望:"望",弦:"弦",晦:"晦"},directions:["","北","西南","東","東南","中","西北","西","東北","南"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah點mm分",LLLL:"YYYY年M月D日ddddAh點mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiem:function(n,e){var t=100*n+e;return t<600?"凌晨":t<900?"早上":t<1100?"上午":t<1300?"中午":t<1800?"下午":"晚上"}},u={changeAgeTerm:2,locales:{zh:pe},lang:"zh"},T=1901,ne=2100,U=[1874,3749,43818,1611,2715,39590,1386,2905,19370,1874,52645,2853,2635,47691,685,1387,17845,3497,65170,3730,3365,44333,2646,694,39637,1748,3753,20298,3730,50854,1323,2647,47446,2906,1748,30561,1865,64275,2707,1323,54555,2733,1386,40357,2980,2889,19787,2709,60077,1334,2733,47818,1458,3493,32418,3402,66965,2711,1366,50549,2773,1746,34645,3749,1610,26191,2715,60122,1386,2921,43954,2898,2853,35627,2635,68267,685,1389,54697,3497,3474,36501,3365,85581,2646,694,49909,1749,3753,44882,3730,3366,25902,2647,68310,858,1749,43881,1865,1683,35483,1323,2651,19118,1386,60885,2980,2889,44371,2709,1325,34141,2741,76714,1490,3493,56970,3402,3221,35486,1366,2741,19162,1746,51045,1829,1611,42583,3243,1370,25966,2921,94034,2898,2853,56587,2635,1195,41659,1453,2922,19882,3474,61093,3365,2645,47693,1206,1461,30418,3785,69522,3730,3366,54550,2647,1366,37733,1877,1865,26443,1683,60075,1323,2651,43706,1386,2917,35754,2890,69013,2709,1325,50541,2741,1450,34261,3493,3402,28237,3222,60622,1366,2741,47826,1746,3749,34602,1675,67223,1195,1371,54614,2922,1874,35733,2885,2699,19023,1195],Se=[219,208,129,216,204,125,213,202,122,210,130,218,206,126,214,203,123,211,201,220,208,128,216,205,124,213,202,123,210,130,217,206,126,214,204,124,211,131,219,208,127,215,205,125,213,202,122,210,129,217,206,127,214,203,124,212,131,218,208,128,215,205,125,213,202,121,209,130,217,206,127,215,203,123,211,131,218,207,128,216,205,125,213,202,220,209,129,217,206,127,215,204,123,210,131,219,207,128,216,205,124,212,201,122,209,129,218,207,126,214,203,123,210,131,219,208,128,216,205,125,212,201,122,210,129,217,206,126,213,203,123,211,131,219,208,128,215,204,124,212,201,122,210,130,217,206,126,214,202,123,211,201,219,208,128,215,204,124,212,202,121,209,129,217,205,126,214,203,123,211,131,219,207,127,215,205,124,212,202,122,209,129,217,206,126,214,203,124,210,130,218,207,127,215,205,125,212,201,121,209],W=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],ue=[0x6aaaa6aa9a5a,0xaaaaaabaaa6a,0xaaabbabbafaa,99670716471979,0xaaaaaaaaaa6a,0x6aaaa6aa9a56,0xaaaaaaaa9a5a,0xaaabaabaaeaa,95203950484138,99671807007318,0x6aaaaaaa9a5a,99671806990934,0xaaabaabaaa6a,93829556755114,99670716471894,93829556689578,95203950484054,0x6aa6a6aa9a56,93829288253866,95203950484053,0x6aa6a6a65a56,93829288252842,93824993285482,93829556755029,93824992236906,93829556689493,0x6aa6a6aa9a5a,93824992232810,93829288254037,99601996995158,0x6aa6a6a69a5a,93824925123930,93829288253781,99671790213718,23456180946266,93824993285461,95203946289749,93824993285397,93824992236821,23439001077082,93824992232725,23439000814938,93824925123861,23439000798550,93824925123845,23437910279510,23456180946181,5845724235094,23439000814853,5777004758358,23439000798469,1378954052950,23437910279425,1378954052949,93824992236885,5845724235009,4564518229,4296017237,5777004758273,23438984021253,1378954052865,23437910279429,1048661,1378954052864,85,4564518144,21,4296082688],ce=[0,1,2,3,0,4,2,3,0,4,2,3,5,6,7,8,9,10,7,8,11,10,12,8,11,0,1,13,14,0,1,13,14,0,4,13,14,0,4,13,14,0,4,15,16,17,6,18,19,20,6,18,19,11,0,21,19,14,0,22,23,14,0,22,23,14,0,24,23,14,0,24,25,14,26,27,28,29,30,27,28,16,20,31,32,19,33,34,35,36,14,34,37,23,14,34,38,23,14,34,38,23,14,34,38,28,14,39,40,28,29,41,42,28,16,43,44,32,36,45,46,35,36,47,46,38,23,47,46,38,23,47,46,38,28,47,46,38,28,47,48,40,28,49,50,42,28,51,52,44,35,53,52,44,54,53,55,46,54,56,55,46,38,56,55,46,38,57,55,48,38,57,58,48,42,57,58,59,42,57,60,61,44,62,63,52,44,64,63,55,46,64,65,55,46,66,67,55,46,38],R=function(n){return n?(n=n.trim(),_[n]||(n||"").toLowerCase().replace(/s$/,"")):""},N=function(n){if(n===void 0)return new Date;if(n===null)return new Date(NaN);if(typeof n=="object"&&!(n instanceof Date)&&n.toDate!==void 0){var e=n.toDate();if(e instanceof Date)return e}if(n instanceof Date)return n;if(typeof n=="string"&&!/Z$/i.test(n)){var t=n.match(be);if(t){var r=t[2]-1||0,a=(t[7]||"0").substring(0,3);return new Date(t[1],r,t[3]||1,t[4]||0,t[5]||0,t[6]||0,a)}}return new Date(n)},E=function(n){var e=Se[n-T];return N("".concat(n,"/").concat(Math.floor(e/100),"/").concat(e%100))},X=function(n){var e=U[n-T];return[e>>13,(e>>12&1)===1]},ve=function(n,e){var t;(function(f,M){var D=u.locales[M??u.lang];if(typeof f.year=="string"){for(var S="",w=0;w<f.year.length;w++){var L=-1;S+=(L=f.year[w]==="零"||f.year[w]==="〇"?0:D.numerals.indexOf(f.year[w]))>=0?L:""}f.year=Number(S)}if(typeof f.month=="string"){var x=f.month;x[0]===D.leap&&(f.isLeapMonth=!0,x=f.month.slice(1));var A=D.lunarMonths.indexOf(x);A===-1&&(A=D.lunarMonthsAlias.indexOf(x)),f.month=f.isLeapMonth?A+100+1:A+1}typeof f.day=="string"&&(f.day=D.lunarDays.indexOf(f.day)+1),typeof f.hour=="string"&&(f.hour=D.branchs.indexOf(f.hour))})(n,e);var r=new Date,a=n.year?Number(n.year):r.getFullYear(),o=Number(n.month),i=Number(n.day),c=n.hour?Number(n.hour):0,l=(t=n.isLeapMonth)!==null&&t!==void 0&&t;if(o>100&&(o-=100,l=!0),a<T||a>ne)throw new Error("Invalid lunar year: out of range");if(o<1)throw new Error("Invalid lunar month");var g=E(a),h=X(a),s=h[0],y=h[1];if(l&&s!==o)throw new Error("Invalid lunar leap month: no this leap month");for(var d=U[a-T],p=l?y:d>>o-1&1,O=0,m=0;m<o&&(O+=d>>m&1?30:29,!(m===o-1&&!l));m++)m===s-1&&(O+=y?30:29);return O-=(p?30:29)-i+1,new Date(g.valueOf()+24*O*60*60*1e3+2*c*60*60*1e3)},ye=function(n,e,t){var r=t.getDate(),a=n.getMonth(),o=e/2>>0,i=o<a||a===0&&o===11||r>n.getDate()&&!(r-1===n.getDate()&&n.getHours()>=23)?-1:0;return((12*(n.getFullYear()-ie[0])+n.getMonth()-ie[1]+1)%60+i+60)%60},le={stem:[10,"stems"],branch:[12,"branchs"],trigram8:[8,"eightTrigram"],element5:[5,"fiveElements"]},B=function(n,e,t,r){if(typeof n=="number")n%=le[e][0];else if(typeof n=="string"){var a=r.locales[t][le[e][1]].indexOf(n);if(a===-1)throw new Error("Invalid ".concat(e," value"));n=a}return n},G=function(n,e){var t;n=(t=[N(n),N(e)])[0];var r=12*((e=t[1]).getFullYear()-n.getFullYear())+(e.getMonth()-n.getMonth()),a=new Date(n).setMonth(n.getMonth()+r),o=a.valueOf()>e.valueOf(),i=new Date(n).setMonth(n.getMonth()+r+(o?-1:1));return r+(e.valueOf()-a.valueOf())/(o?a-i:i-a)||0},me=function(n,e,t){if(n>e)return-me(e,n);for(var r=[n.lunar,e.lunar],a=r[0],o=r[1],i=[a.year,o.year],c=i[0],l=i[1],g=[a.month,o.month],h=g[0],s=g[1],y=c,d=0;y<=l;){var p=[1,12],O=p[0],m=p[1];y===c&&(O=h),y===l&&(m=s),d+=we(y,O,m),y++}if(!t)return d-1;if(d>0)d+=ee(n,!0)+ee(e,!1)-2;else{var f=a.isBigMonth?30:29;d=(e.valueOf()-n.valueOf())/(864e5*f)}return d},we=function(n,e,t){var r=!1;(e=e||1)>100&&(e-=100,r=!0),(t=t||12)>100&&(t-=100,r=!0);var a=U[n-T]>>13;return e<=a&&a<=t&&(r=!0),t-e+1+(r?1:0)},ee=function(n,e){e===void 0&&(e=!1);var t=n.lunar.isBigMonth?30:29,r=n.lunar.day;return e?1-r/t:r/t},se=function(n,e){e===void 0&&(e=!1);var t=n.lunar.leapMonth,r=t>0?13:12,a=!1,o=n.lunar.month;o>100&&(o-=100,a=!0),t>0&&(o>t||o===t&&a)&&o++;var i=ee(n,e);return e?1-(o-i)/r:(o+i-1)/r},De=function(n,e){var t=e.toDate();if(t.toString()===oe)return oe;var r,a,o,i,c=n||"YYYY-MM-DDTHH:mm:ssZ",l=t.getFullYear(),g=t.getMonth()+1,h=t.getDate(),s=t.getDay(),y=t.getHours(),d=t.getMinutes(),p=t.getSeconds(),O=(r=-e.utcOffset(),a=Math.abs(r),o=Math.floor(a/60),i=a%60,"".concat(r<=0?"+":"-").concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))),m=e.lunar,f=e.char8,M=u.locales[e._config.lang],D=M.weekdays,S=M.months,w=function(I,Z,$,q){return I&&I[Z]||($?$[Z].slice(0,q):"")},L=y%12||12,x=M.meridiem||function(I,Z,$){var q=I<12?"AM":"PM";return $?q.toLowerCase():q},A={YY:String(l).slice(-2),YYYY:String(l),M:String(g),MM:String(g).padStart(2,"0"),MMM:w(M.monthsShort,g-1,S,3),MMMM:w(S,g-1),D:String(h),DD:String(h).padStart(2,"0"),d:String(s),dd:w(M.weekdaysMin,s,D,2),ddd:w(M.weekdaysShort,s,D,3),dddd:D[s],H:String(y),HH:String(y).padStart(2,"0"),h:String(L),hh:String(L).padStart(2,"0"),a:x(y,d,!0),A:x(y,d,!1),m:String(d),mm:String(d).padStart(2,"0"),s:String(p),ss:String(p).padStart(2,"0"),SSS:String(t.getMilliseconds()).padStart(3,"0"),Z:O,cZ:M.chineseZodiac[f.year.branch.value],t:e.solarTerm?String(e.solarTerm.value+1):"",T:e.solarTerm?e.solarTerm.toString():"",lY:m.getYearName(),lM:m.getMonthName(),lD:m.getDayName(),lH:m.getHourName(),lL:m.isBigMonth?M.bigMonth:M.smallMonth,lYn:String(m.year),lMn:String(m.month),lDn:String(m.day),lHn:String(m.hour+1),cY:f.year.toString(),cYs:f.year.stem.toString(),cYb:f.year.branch.toString(),cM:f.month.toString(),cMs:f.month.stem.toString(),cMb:f.month.branch.toString(),cD:f.day.toString(),cDs:f.day.stem.toString(),cDb:f.day.branch.toString(),cH:f.hour.toString(),cHs:f.hour.stem.toString(),cHb:f.hour.branch.toString()};return c=c.replace(Oe,function(I,Z){return Z||A[I]||O.replace(":","")})};function fe(n,e){return Math.round((e.valueOf()-n.valueOf())/864e5)}var re=function(){function n(e,t){var r;this._config={lang:u.lang},t&&(this._config=Object.assign({},this._config,t));var a=N(e);this._date=a;var o=a.getFullYear(),i=a.getMonth(),c=a.getHours(),l=N("".concat(o,"/").concat(i+1,"/").concat(a.getDate()));if(o<T||o>ne||o===T&&i<1||o===T&&i===1&&l.getDate()<19)throw new Error("Invalid lunar year: out of range");var g=fe(E(o),l);l&&c===23&&(g+=1),g<0&&(g=fe(E(o-=1),l)),this.year=o;var h=X(o),s=h[0],y=h[1];this.leapMonth=s,this.leapMonthIsBig=y,r=function(d,p,O){var m=U[d-T],f=O||X(d),M=f[0],D=f[1],S=1;p+=1;for(var w=!1;p>29;){if(p-=m>>S-1&1?30:29,S===M&&p>0){var L=D?30:29;if(!(p>L)){w=!0;break}p-=L}S++}return w&&(S+=100),p===0&&(p=30,S--),[S,p]}(o,g,[s,y]),this.month=r[0],this.day=r[1],this.hour=(c+1)%24>>1}return n.fromLunar=function(e,t){return new n(ve(e,t==null?void 0:t.lang),t)},Object.defineProperty(n.prototype,"isLeapMonth",{get:function(){return this.month>100},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isBigMonth",{get:function(){var e=U[this.year-T];return this.isLeapMonth?(e>>12&1)==1:(e>>this.month-1&1)==1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLastDayOfMonth",{get:function(){return!(!this.isBigMonth||this.day!==30)||!this.isBigMonth&&this.day===29},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lunarNewYearDay",{get:function(){return E(this.year)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastDayOfYear",{get:function(){var e=E(this.year+1);return new Date(e.valueOf()-864e5)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"phaseOfTheMoon",{get:function(){return function(e,t){var r=e.day;return r===1?t.moonPhase.朔:[7,8,22,23].includes(r)?t.moonPhase.弦:r===15?t.moonPhase.望:e.isLastDayOfMonth?t.moonPhase.晦:""}(this,u.locales[this._config.lang])},enumerable:!1,configurable:!0}),n.prototype.toDate=function(){return new Date(this._date.valueOf())},n.prototype.getYearName=function(){for(var e="",t=this.year,r=u.locales[this._config.lang].numerals;t;)e=r[t%10]+e,t=Math.floor(t/10);return e},n.prototype.getMonthName=function(){var e=u.locales[this._config.lang].lunarMonths,t=u.locales[this._config.lang].leap;return(this.isLeapMonth?t:"")+e[this.month%100-1]},n.prototype.getDayName=function(){return u.locales[this._config.lang].lunarDays[this.day-1]},n.prototype.getHourName=function(){return u.locales[this._config.lang].branchs[this.hour]},n.prototype.toString=function(){var e=u.locales[this._config.lang];return"".concat(this.getYearName()).concat(e.lunarYearUnit).concat(this.getMonthName()).concat(this.getDayName()).concat(this.getHourName()).concat(e.lunarHourUnit)},n.prototype.valueOf=function(){return this._date.valueOf()},n.getLunarNewYearDay=function(e){return E(e)},n}(),H=function(){function n(e,t){if(this.value=-1,this._config={lang:u.lang},t&&(this._config=Object.assign({},this._config,t)),e instanceof n)return e;if(typeof e=="number")this.value=e%24;else if(typeof e=="string"){var r=u.locales[this._config.lang].solarTerm.indexOf(e);if(r===-1)throw new Error("Invalid term value");this.value=r}}return Object.defineProperty(n.prototype,"name",{get:function(){return String(u.locales[this._config.lang].solarTerm[this.value])},enumerable:!1,configurable:!0}),n.getNames=function(e){return e=e||u.lang,z([],u.locales[e].solarTerm,!0)},n.getYearTermDayList=function(e){for(var t=[],r=ue[ce[e-T]].toString(2).padStart(48,"0");t.length<24;){var a=parseInt(r.slice(r.length-2),2),o=W[t.length];t.push(a+o),r=r.slice(0,r.length-2)}return t},n.getMonthTerms=function(e,t){var r=ue[ce[e-T]].toString(2).padStart(48,"0"),a=4*(t-1),o=parseInt(r.slice(r.length-a-4,r.length-a),2);return[(3&o)+W[2*(t-1)],(o>>2&3)+W[2*(t-1)+1]]},n.findDate=function(e,t,r){var a=r&&r.lang?r.lang:u.lang;return t instanceof n&&(t=t.value),[e,((t=typeof t=="string"?u.locales[a].solarTerm.indexOf(t):t%24)>>1)+1,n.getYearTermDayList(e)[t]]},n.findNode=function(e,t){var r,a={lang:u.lang,returnValue:!1,nodeFlag:0},o=t?Object.assign({},a,t):a,i=o.returnValue,c=o.nodeFlag;if(c>2)throw new Error("Invalid nodeFlag");var l,g={lang:o.lang||u.lang},h=e.getFullYear(),s=e.getMonth(),y=e.getDate(),d=e.getHours(),p=(2*s+24)%24,O=n.getMonthTerms(h,s+1),m=O[0],f=O[1],M=!1,D=!1;y<m&&!(y===m-1&&d>=23)?M=!0:y<f&&!(y===f-1&&d>=23)&&(D=!0,c===1&&(M=!0));var S=!1;M?(s-1<0?(h--,s=11):s--,p=(2*s+24)%24,m=(r=n.getMonthTerms(h,s+1))[0],f=r[1],c>0&&(S=!0)):(c===1||c===2&&!D)&&(S=!0),l=S?f:m,p=S?(p+1)%24:p;var w=N("".concat(h,"-").concat(s+1,"-").concat(l));return i?[p,w]:[new n(p,g),w]},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return this.name},n}(),F=function(){function n(e,t){if(this.value=-1,this._config={lang:u.lang},e instanceof n)return e;t&&(this._config=Object.assign({},this._config,t)),this.value=B(e,"element5",this._config.lang,u)}return n.getNames=function(e){return e=e||u.lang,z([],u.locales[e].fiveElements,!0)},n.create=function(e,t){if(e instanceof n)return e;var r=(t==null?void 0:t.lang)||u.lang;e=B(e,"element5",r,u);var a="".concat(e,":").concat(r);if(n.instances.has(a))return n.instances.get(a);var o=new n(e,t);return n.instances.set(a,o),o},Object.defineProperty(n.prototype,"name",{get:function(){return this.value===-1?"":u.locales[this._config.lang].fiveElements[this.value]},enumerable:!1,configurable:!0}),n.prototype.generating=function(){var e=(this.value+1)%5;return n.create(e,this._config)},n.prototype.overcoming=function(){var e=(this.value+2)%5;return n.create(e,this._config)},n.prototype.weakening=function(){var e=(this.value+4)%5;return n.create(e,this._config)},n.prototype.counteracting=function(){var e=(this.value+3)%5;return n.create(e,this._config)},n.prototype.toString=function(){return this.value===-1?"Invalid five-element value":this.name},n.prototype.valueOf=function(){return this.value},n.instances=new Map,n}(),C=function(){function n(e,t){this.value=-1,this._config={lang:u.lang},t&&(this._config=Object.assign({},this._config,t)),this.value=e%8}return n.getNames=function(e){return e=e||u.lang,z([],u.locales[e].eightTrigram,!0)},n.create=function(e,t){var r=(t==null?void 0:t.lang)||u.lang;e=B(e,"trigram8",r,u);var a="".concat(e,":").concat(r);if(n.instances.has(a))return n.instances.get(a);var o=new n(e,t);return n.instances.set(a,o),o},Object.defineProperty(n.prototype,"name",{get:function(){return u.locales[this._config.lang].eightTrigram[this.value]},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this.name},n.prototype.valueOf=function(){return this.value},n.instances=new Map,n}();function P(n,e){return e===void 0&&(e=!1),function(t,r,a){var o=a.value===void 0?a.get:a.value;a[a.value===void 0?"get":"value"]=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];if(i.length>0&&e){var l=JSON.stringify(i);n+=l}if(this.cache.has(n))return this.cache.get(n);var g=o.call.apply(o,z([this],i,!1));return this.cache.set(n,g),g}}}var ae=function(){this.cache=new Map},b=function(n){function e(t,r){var a=n.call(this)||this;return a.value=-1,a._config={lang:u.lang},t instanceof e?t:(r&&(a._config=Object.assign({},a._config,r)),a.value=B(t,"branch",a._config.lang,u),a)}return te(e,n),e.getNames=function(t){return t=t||u.lang,z([],u.locales[t].branchs,!0)},e.create=function(t,r){if(t instanceof e)return t;var a=(r==null?void 0:r.lang)||u.lang;t=B(t,"branch",a,u);var o="".concat(t,":").concat(a);if(e.instances.has(o))return e.instances.get(o);var i=new e(t,r);return e.instances.set(o,i),i},Object.defineProperty(e.prototype,"name",{get:function(){return u.locales[this._config.lang].branchs[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hiddenStems",{get:function(){return Me[this.value].map(function(t){return new Y(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"e5",{get:function(){var t=Math.floor((this.value+10)/3)%4;return(this.value+10)%3==2?F.create(2,this._config):F.create(t<2?t:t+1,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triad",{get:function(){return[e.create((this.value+4)%12,this._config),e.create((this.value+8)%12,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triadE5",{get:function(){return F.create([4,0,1,3][this.value%4],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"group6",{get:function(){return e.create((13-this.value)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"group6E5",{get:function(){return F.create((t=this.value,r=[2,0,1,3,4,2],(t=t===0?12:t)<7?r[t-1]:r[12-t]),this._config);var t,r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"punishing",{get:function(){return e.create([3,10,5,0,4,8,6,1,2,9,7,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"punishBy",{get:function(){return e.create([3,7,8,0,4,2,6,10,5,9,1,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"conflict",{get:function(){return e.create((this.value+6)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destroying",{get:function(){return e.create([9,4,11,6,1,8,3,10,5,0,7,2][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"harming",{get:function(){var t=this.value>7?19-this.value:7-this.value;return e.create(t,this._config)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name},e.prototype.valueOf=function(){return this.value},e.instances=new Map,j([P("branch:hiddenStems")],e.prototype,"hiddenStems",null),j([P("branch:e5")],e.prototype,"e5",null),j([P("branch:punishing")],e.prototype,"punishing",null),j([P("branch:punishBy")],e.prototype,"punishBy",null),j([P("branch:conflict")],e.prototype,"conflict",null),j([P("branch:destroying")],e.prototype,"destroying",null),j([P("branch:harming")],e.prototype,"harming",null),e}(ae),Y=function(n){function e(t,r){var a=n.call(this)||this;return a.value=-1,a._config={lang:u.lang},t instanceof e?t:(r&&(a._config=Object.assign({},a._config,r)),a.value=B(t,"stem",a._config.lang,u),a)}return te(e,n),e.getNames=function(t){return t=t||u.lang,z([],u.locales[t].stems,!0)},e.create=function(t,r){if(t instanceof e)return t;var a=(r==null?void 0:r.lang)||u.lang;t=B(t,"stem",a,u);var o="".concat(t,":").concat(a);if(e.instances.has(o))return e.instances.get(o);var i=new e(t,r);return e.instances.set(o,i),i},Object.defineProperty(e.prototype,"name",{get:function(){return u.locales[this._config.lang].stems[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"branchs",{get:function(){var t=this;return u.locales[this._config.lang].branchs.filter(function(r,a){return a%2==t.value%2}).map(function(r){return b.create(r,t._config)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"e5",{get:function(){return F.create(Math.floor(this.value/2),this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trigram8",{get:function(){return C.create([7,0,4,3,2,5,1,5,7,0][this.value],this._config)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name},e.prototype.valueOf=function(){return this.value},e.instances=new Map,j([P("stem:branchs")],e.prototype,"branchs",null),j([P("stem:e5")],e.prototype,"e5",null),e}(ae),k=function(){function n(e,t,r){if(this.value=-1,this._config={lang:u.lang},r&&(this._config=Object.assign({},this._config,r)),typeof t=="number"||typeof t=="string"||t instanceof b){this.stem=Y.create(e,this._config),this.branch=b.create(t,this._config);var a=this.stem.valueOf(),o=this.branch.valueOf();this.value=function(i,c){if((i+c)%2!=0)throw new Error("Invalid SB value");return i%10+(6-(c>>1)+(i>>1))%6*10}(a,o)}else{if(typeof e!="number")throw new Error("Invalid SB value");this.value=e%60,a=this.value%10,o=this.value%12,this.stem=Y.create(a,this._config),this.branch=b.create(o,this._config)}}return n.getNames=function(e){e=e||u.lang;var t=u.locales[e];return new Array(60).fill("").map(function(r,a){var o,i=a%10,c=a%12;return t.stems[i]+((o=t==null?void 0:t.stemBranchSeparator)!==null&&o!==void 0?o:"")+t.branchs[c]})},Object.defineProperty(n.prototype,"missing",{get:function(){var e=2*(5-Math.floor(this.value/10));return[b.create(e,this._config),b.create(e+1,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){var e,t=u.locales[this._config.lang];return"".concat(this.stem).concat((e=t==null?void 0:t.stemBranchSeparator)!==null&&e!==void 0?e:"").concat(this.branch)},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this.name},n.prototype.valueOf=function(){return this.value},n}(),de=function(){function n(e,t){if(this.value=-1,this._config={changeAgeTerm:u.changeAgeTerm,lang:u.lang},t&&(this._config=Object.assign({},this._config,t)),e instanceof Date){var r=n.computeSBYear(e,this._config),a=n.computeSBMonth(e,this._config),o=n.computeSBDay(e,this._config);e=[r,a,o,n.computeSBHour(e,o,this._config)]}if(!Array.isArray(e))throw new Error("Invalid Char8");this._list=e,this.value=this._computeValue(e)}return n.prototype.getConfig=function(){return Object.assign({},this._config)},Object.defineProperty(n.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"year",{get:function(){return this._list[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"month",{get:function(){return this._list[1]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"day",{get:function(){return this._list[2]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hour",{get:function(){return this._list[3]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"me",{get:function(){return this._list[2].stem},enumerable:!1,configurable:!0}),n.prototype._computeValue=function(e){e===void 0&&(e=this._list);for(var t=0,r=0;r<4;r++)t+=e[r].valueOf()*Math.pow(10,2*(3-r));return t},n.computeSBYear=function(e,t){var r=t&&t.changeAgeTerm!==void 0?t.changeAgeTerm:u.changeAgeTerm,a=typeof e!="number"?e.getFullYear():e;if(r!=null&&typeof e!="number"){var o=(r%=24)<0;r=r>=0?r:24+r;var i=e.getFullYear();o&&i--;var c=i+1,l=H.findDate(i,r),g=H.findDate(c,r),h=N("".concat(l[0],"-").concat(l[1],"-").concat(l[2]-1," 23:00:00")),s=N("".concat(g[0],"-").concat(g[1],"-").concat(g[2]-1," 23:00:00"));e.valueOf()<h.valueOf()?a--:e.valueOf()>=s.valueOf()&&a++}else if(r===null&&typeof e!="number"){var y=re.getLunarNewYearDay(a);e.valueOf()<y.valueOf()-36e5&&a--}return new k((a-4)%10,(a-4)%12,t)},n.computeSBMonth=function(e,t){var r=t&&t.lang!==void 0?t.lang:u.lang,a={lang:r,returnValue:!0,nodeFlag:((t&&t.changeAgeTerm!==void 0?t.changeAgeTerm:u.changeAgeTerm)+24)%2},o=H.findNode(e,a),i=o[0],c=o[1],l=ye(e,i,c);return new k(l,void 0,{lang:r})},n.computeSBDay=function(e,t){var r=N("".concat(J[0],"-").concat(J[1],"-").concat(J[2]-1," 23:00:00")),a=Math.floor((e.valueOf()-r.valueOf())/864e5)%60;return a<0&&(a+=60),new k(a,void 0,t)},n.computeSBHour=function(e,t,r){t||(t=n.computeSBDay(e));var a,o,i=e.getHours(),c=t.stem,l=(i+1>>1)%12,g=(a=c.value,(o=l)===void 0&&(o=0),(a%5*2+o)%10);return new k(g,l,r)},n.prototype.toString=function(){return"".concat(this.year," ").concat(this.month," ").concat(this.day," ").concat(this.hour)},n.prototype.valueOf=function(){return this.value},n}(),V=function(n){function e(t,r){var a=n.call(this)||this;return a._date=N(t),a._config=Object.assign({},u,r),a}return te(e,n),Object.defineProperty(e.prototype,"lunisolar",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"year",{get:function(){return this._date.getFullYear()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"month",{get:function(){return this._date.getMonth()+1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"day",{get:function(){return this._date.getDate()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this._date.getDay()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hour",{get:function(){return this._date.getHours()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minute",{get:function(){return this._date.getMinutes()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"second",{get:function(){return this._date.getSeconds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"millis",{get:function(){return this._date.getMilliseconds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lunar",{get:function(){return new re(this._date,{lang:this._config.lang})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"char8",{get:function(){var t={lang:this._config.lang,changeAgeTerm:this._config.changeAgeTerm};return new de(this._date,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"solarTerm",{get:function(){var t=this._date.getFullYear();if(t<T||t>ne)throw new Error("".concat(t," is not a lunar year"));var r=this._date.getMonth()+1,a=this._date.getDate(),o=H.getMonthTerms(t,r),i=o[0],c=o[1],l={lang:this._config.lang};return a===i?new H(2*(r-1),l):a===c?new H(2*(r-1)+1,l):null},enumerable:!1,configurable:!0}),e.prototype.recentSolarTerm=function(t){return H.findNode(this._date,{lang:this._config.lang,nodeFlag:t,returnValue:!1})},e.prototype.getMonthBuilder=function(t){t===void 0&&(t=0);var r={lang:this.getConfig("lang")},a=this.recentSolarTerm(t),o=a[0],i=a[1],c=ye(this.toDate(),o.value,i);return[new k(c,void 0,r),o,i]},e.prototype.getSeasonIndex=function(){var t=this.recentSolarTerm(0)[0].value;return 2<=t&&t<8?0:8<=t&&t<14?1:14<=t&&t<20?2:3},e.prototype.getSeason=function(t){t===void 0&&(t=!1);var r=this.getSeasonIndex(),a=this.getLocale();return t&&a.seasonShortName?a.seasonShortName[r]:a.seasonName[r]},e.prototype.getLocale=function(t){return u.locales[t??this._config.lang]},e.prototype.L=function(t){return function(r,a){for(var o=a.split("."),i=r,c=a,l=function(s){return(typeof s=="string"||typeof s=="number"||typeof s=="function")&&(c=s,!0)};o.length>=0&&!l(i)&&o.length!==0;){var g=o.shift();if(g===void 0)return"";if(Array.isArray(i)){var h=Number(g);if(isNaN(h)||h>=i.length)return"";i=i[h],c=i}else{if(!i.hasOwnProperty(g))return o[o.length-1]||g;i=i[g]}}return c}(this.getLocale(),t)},e.prototype.getConfig=function(t){return t===void 0?this._config:(this._config[t],this._config[t])},e.prototype.toDate=function(){return new Date(this._date.valueOf())},e.prototype.clone=function(){return new e(this._date,this._config)},e.prototype.unix=function(){return Math.floor(this.valueOf()/1e3)},e.prototype.valueOf=function(){return this._date.valueOf()},e.prototype.utcOffset=function(){return 15*-Math.round(this._date.getTimezoneOffset()/15)},e.prototype.toISOString=function(){return this._date.toISOString()},e.prototype.toString=function(){return this._date.toUTCString()+" (".concat(this.lunar,")")},e.prototype.format=function(t){return De(t,this)},e.prototype.diff=function(t,r,a){return a===void 0&&(a=!1),r=r?R(r):"millisecond",_e.has(r)?function(o,i,c,l){var g=[o.lunar,i.lunar],h=g[1],s=[g[0].year,h.year],y=s[0],d=s[1],p=i.valueOf()-o.valueOf();if((c=R(c))===_.ly){var O=d-y;return l?O-1+se(o,!0)+se(i,!1):O}return c===_.lM?me(o,i,l):(c===_.ld?p/=864e5:c===_.lh&&(p/=72e5),l?p:Math.ceil(p))}(this,t instanceof e?t:new e(t,this._config),r,a):function(o,i,c,l){var g;o=(g=[N(o),N(i)])[0];var h=(i=g[1]).valueOf()-o.valueOf();c=c?R(c):"millisecond";var s=h;return _.s===c?s=h/1e3:_.m===c?s=h/6e4:_.h===c?s=h/36e5:_.d===c?s=h/864e5:_.w===c?s=h/6048e5:_.M===c?s=G(o,i):_.y===c?s=G(o,i)/12:_.q===c&&(s=G(o,i)/3),l?s:parseInt(String(s))}(this._date,t,r,a)},e.prototype.add=function(t,r){var a=function(o,i,c){var l=(o=N(o)).getFullYear(),g=o.getMonth()+1,h=i;if((c=c?R(c):"millisecond")===_.d||c===_.ld)h=24*i*60*60*1e3;else if(c===_.h)h=60*i*60*1e3;else if(c===_.m)h=60*i*1e3;else if(c===_.s)h=1e3*i;else{if(c===_.M)return new Date(o.setMonth(g-1+i));if(c===_.y)return new Date(o.setFullYear(l+i))}return new Date(o.valueOf()+h)}(this.toDate(),t,r);return new e(a,this.getConfig())},j([P("lunisolar:lunar")],e.prototype,"lunar",null),j([P("lunisolar:char8")],e.prototype,"char8",null),j([P("lunisolar:solarTerm")],e.prototype,"solarTerm",null),j([P("lunisolar:recentSolarTerm",!0)],e.prototype,"recentSolarTerm",null),j([P("lunisolar:getMonthBuilder",!0)],e.prototype,"getMonthBuilder",null),e}(ae),Ye=[5,7,11,13,-1,-2,17,19,23,1],je=[4,6,0,7],Pe=[1,1,8,8,8,3,3,3,4,4,4,9,9,9,2,2,2,7,7,7,6,6,6,1],K=new Map,ge=function(n){n===void 0&&(n="zh");var e="direction24List:".concat(n);if(K.has(e))return K.get(e);var t={lang:n},r=[b.create(0,t),Y.create(9,t),b.create(1,t),C.create(4,t),b.create(2,t),Y.create(0,t),b.create(3,t),Y.create(1,t),b.create(4,t),C.create(6,t),b.create(5,t),Y.create(2,t),b.create(6,t),Y.create(3,t),b.create(7,t),C.create(0,t),b.create(8,t),Y.create(6,t),b.create(9,t),Y.create(7,t),b.create(10,t),C.create(7,t),b.create(11,t),Y.create(8,t)];return K.set(e,r),r};function he(n){if(typeof n=="number")return n;var e=n.constructor.name,t=n.value;if(e==="Stem")n=Ye[t];else if(e==="Branch")n=2*t;else{if(e!=="Trigram8")throw new Error("Invalid direction24 value");var r=je.indexOf(t);if(r===-1)throw new Error("Invalid direction24 value");n=3*(2*r+1)}return n}var Te=function(){function n(e,t){this._config={lang:u.lang};var r=he(e);this.value=r;var a=(t==null?void 0:t.lang)||u.lang,o=ge(a);this._sign=r===-1?Y.create(4,t):r===-1?Y.create(5,t):o[r%24]}return n.create=function(e,t){var r=he(e),a=(t==null?void 0:t.lang)||"zh",o="".concat(r,":").concat(a);if(n.instances.has(o))return n.instances.get(o);var i=new n(r,t);return n.instances.set(o,i),i},n.createFromAngle=function(e,t){var r=Math.round(e%360/15);return n.create(r,t)},n.getNames=function(e){return e=e||u.lang,ge(e).map(function(t){return t.name})},Object.defineProperty(n.prototype,"sign",{get:function(){return this._sign},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._sign.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._sign.constructor.name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.value>0?15*this.value:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"direction",{get:function(){return u.locales[this._config.lang].directions[this.directionIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"directionIndex",{get:function(){return this.value<0?5:Pe[this.value]},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this._sign.toString()},n.prototype.valueOf=function(){return this.value},n.instances=new Map,n}();function v(n,e){return n instanceof V&&(n=n.toDate()),new V(n,e)}v.Lunar=re,v.SolarTerm=H,v.Char8=de,v.SB=k,v.Stem=Y,v.Branch=b,v.Element5=F,v.Lunisolar=V,v.Trigram8=C,v.Direction24=Te,v.fromLunar=function(n,e){var t=ve(n,e==null?void 0:e.lang);return new V(t,e)},v.config=function(n){return n&&Object.assign(u,n),v},v.extend=function(n,e){return n.$once||(n(e,V,v),n.$once=!0),v},v.locale=function(n,e){if(e===void 0&&(e=!1),Array.isArray(n)){for(var t=0,r=n;t<r.length;t++){var a=r[t];v.locale(a,e)}return v}return n&&n.name&&(u.locales[n.name]=Object.assign({},u.locales[n.name],pe,n),e||(u.lang=n.name),e&&u.lang!=="zh"&&(u.locales[u.lang]=Object.assign({},u.locales.zh,u.locales[u.lang]))),v},v.getLocale=function(n){return u.locales[n]},v.defineLocale=function(n){return n},v._globalConfig=u,Object.defineProperty(v,"_globalConfig",{writable:!1});export{v as e};
